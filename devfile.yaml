schemaVersion: 2.1.0
metadata:
  name: nodejs-angular
  # ... (other metadata)

components:
  - container:
      endpoints:
        - name: http-angular
          targetPort: 4200
      image: registry.access.redhat.com/ubi8/nodejs-16:1-129.1698060573
      args: ["tail", "-f", "/dev/null"]
      memoryLimit: 1024Mi
    name: runtime
  - image:
      builder:
        image: registry.access.redhat.com/ubi8/nodejs-16:1-129.1698060573
      source:
        contextDir: /build
    id: builder
commands:
  - exec:
      commandLine: npm install
      component: builder
      group:
        isDefault: true
        kind: build
      workingDir: /build
    id: install
  - exec:
      commandLine: npm run start
      component: runtime
      group:
        isDefault: true
        kind: run
      hotReloadCapable: true
      workingDir: /build
    id: run
